<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><title>实验室1 | 黎明前的茶会</title><meta name="keywords" content="代码"><meta name="author" content="叶蓝骅"><meta name="copyright" content="叶蓝骅"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#f7f9fe"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="实验室1"><meta name="application-name" content="实验室1"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="#f7f9fe"><meta property="og:type" content="article"><meta property="og:title" content="实验室1"><meta property="og:url" content="https://www.zerospace.love/2025/02/28/lab1/index.html"><meta property="og:site_name" content="黎明前的茶会"><meta property="og:description" content="一、类结构设计1. 基类 Vehicle 成员变量： totalDistance：总行驶距离 totalTime：总使用时间 baseSpeed：基础速度 nameCString：交通工具名称   核心方法： MakeTrip(double)：纯虚函数，子类需实现行程逻辑。 GetSpeed()：纯"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="https://www.zerospace.love/images/avatar.jpeg"><meta property="article:author" content="叶蓝骅"><meta property="article:tag"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://www.zerospace.love/images/avatar.jpeg"><meta name="description" content="一、类结构设计1. 基类 Vehicle 成员变量： totalDistance：总行驶距离 totalTime：总使用时间 baseSpeed：基础速度 nameCString：交通工具名称   核心方法： MakeTrip(double)：纯虚函数，子类需实现行程逻辑。 GetSpeed()：纯"><link rel="shortcut icon" href="/images/favicon.svg"><link rel="canonical" href="https://www.zerospace.love/2025/02/28/lab1/"><link rel="preconnect" href="//cdn.cbd.int"/><meta name="google-site-verification" content="xxx"/><meta name="baidu-site-verification" content="code-xxx"/><meta name="msvalidate.01" content="xxx"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  linkPageTop: undefined,
  peoplecanvas: undefined,
  postHeadAiDescription: {"enable":true,"gptName":"AnZhiYu","mode":"local","switchBtn":false,"btnLink":"https://afdian.net/item/886a79d4db6711eda42a52540025c377","randomNum":3,"basicWordCount":1000,"key":"xxxx","Referer":"https://xx.xx/"},
  diytitle: {"enable":true,"leaveTitle":"w(ﾟДﾟ)w 不要走！再看看嘛！","backTitle":"♪(^∇^*)欢迎肥来！"},
  LA51: undefined,
  greetingBox: {"enable":true,"default":"你好👋","list":[{"greeting":"晚安😴","startTime":0,"endTime":5},{"greeting":"早上好鸭👋, 祝你一天好心情！","startTime":6,"endTime":9},{"greeting":"上午好👋, 状态很好，鼓励一下～","startTime":10,"endTime":10},{"greeting":"11点多啦, 在坚持一下就吃饭啦～","startTime":11,"endTime":11},{"greeting":"午安👋, 宝贝","startTime":12,"endTime":14},{"greeting":"🌈充实的一天辛苦啦！","startTime":14,"endTime":18},{"greeting":"19点喽, 奖励一顿丰盛的大餐吧🍔。","startTime":19,"endTime":19},{"greeting":"晚上好👋, 在属于自己的时间好好放松😌~","startTime":20,"endTime":24}]},
  twikooEnvId: '',
  commentBarrageConfig:undefined,
  music_page_default: "nav_music",
  root: '/',
  preloader: {"source":1},
  friends_vue_info: undefined,
  navMusic: true,
  mainTone: {"mode":"api","api":"https://img2color-go.vercel.app/api?img=","cover_change":true},
  authorStatus: {"skills":["🤖️ 数码科技爱好者","🔍 分享与热心帮助","🏠 智能家居小能手","🔨 设计开发一条龙","🤝 专修交互与设计","🏃 脚踏实地行动派","🧱 团队小组发动机","💢 壮汉人狠话不多"]},
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简","rightMenuMsgToTraditionalChinese":"转为繁体","rightMenuMsgToSimplifiedChinese":"转为简体"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":330},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    simplehomepage: true,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"copy":true,"copyrightEbable":true,"limitCount":30,"languages":{"author":"作者: 叶蓝骅","link":"链接: ","source":"来源: 黎明前的茶会","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。","copySuccess":"复制成功，复制和转载请标注本文地址"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#425AEF","bgDark":"#1f1f1f","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js',
      css: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  shortcutKey: undefined,
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  configTitle: '黎明前的茶会',
  title: '实验室1',
  postAI: '',
  pageFillDescription: '一、类结构设计, 1. 基类 Vehicle, 2. 子类 Aeroplane（飞机）, 3. 子类 Coach（马车）, 4. 子类 Automobile（汽车）, 二、关键函数, 1. 随机行程 CommitRandomTrips, 2. 显示信息 DisplayVehicles, 3. 排序算法, 4. 维修飞机 FindAndRepairMaxFlightTimeAeroplane, 三、主程序流程, 1. 初始化对象：, 2. 初始状态输出：, 3. 执行随机行程：, 4. 排序与输出：, 5. 维修飞机并输出：, 四、核心特性, 1. 多态与继承：, 2. 速度衰减模型：, 3. 异常处理：, 五、潜在改进点, 1. 名称处理：, 2. 内存管理：, 3. 排序性能：, 六、需求回顾与完成情况检查, 1. 类的实现与测试, 2. 信息管理与输出, 3. 完成拓展任务并再次测试, 4. 绘制类图, 总结一类结构设计基类成员变量总行驶距离总使用时间基础速度交通工具名称核心方法纯虚函数子类需实现行程逻辑纯虚函数子类需实现速度计算比较运算符默认按当前速度比较子类飞机特殊属性上次维修后的飞行时间内部类模拟机载计算机记录启动时间行为特性速度恒定每次行程会增加飞行时间超过则无法飞行维修后重置飞行时间可更新计算机启动时间子类马车行为特性速度随时间指数衰减单次行程距离超过则无法行驶子类汽车行为特性速度随行驶距离指数衰减无最大行程限制二关键函数随机行程为所有交通工具生成随机距离的行程调用执行行程不同交通工具可能失败如飞机超时马车超距显示信息格式化输出交通工具的名称附加英文类型当前速度总距离和总时间示例输出名称当前速度总行驶距离总使用时间马车排序算法选择排序和插入排序支持自定义比较函数如按速度或总时间排序模板化实现适用于任意数据类型比较函数按当前速度比较按总使用时间比较维修飞机遍历所有交通工具找到飞行时间最长的飞机并维修重置飞行时间三主程序流程初始化对象创建辆马车辆汽车架飞机存入对应的将所有对象的指针收集到中初始状态输出初始交通工具信息执行随机行程排序与输出按默认速度排序选择排序按插入排序再次排序每次排序后输出结果维修飞机并输出四核心特性多态与继承通过基类指针调用和实际执行子类实现动态类型转换用于识别飞机对象速度衰减模型马车速度随时间指数衰减汽车速度随距离指数衰减异常处理飞机的返回若超时需维修后才能继续飞行马车的返回若单次距离超过五潜在改进点名称处理当前通过名称中的中文字符判断类型如马车不够健壮可改为使用类型标识符如枚举内存管理存储的是局部对象的指针若对象生命周期结束会导致悬空指针此处因对象在主函数内创建无问题但需注意扩展性排序性能对于大规模数据选择排序和插入排序效率较低可考虑更高效算法如快速排序六需求回顾与完成情况检查文档要求完成的任务主要包含以下几个方面下面对各项任务的完成情况进行逐一检查类的实现与测试任务内容实现交通工具基类和飞机马车汽车等具体交通工具类类包含抽象方法具体类需重写这些方法使用函数对这些类进行测试在函数中初始化随机数生成器完成情况代码中实现了基类包含抽象方法和实现了和类并且重写了基类的抽象方法在函数中使用初始化了随机数生成器同时调用函数对交通工具对象进行了随机行程测试所以该任务已完成信息管理与输出任务内容实现输入交通工具实例信息到对应数组的功能并组织信息输出输出方式包括按速度顺序从每个数组依次输出按当前速度以统一列表输出按输入顺序输出可使用选择排序模板算法对数组指针进行排序也可自定义比较函数完成情况代码中创建了存储不同交通工具对象的并将对象指针存储在相应的指针中实现了函数用于输出交通工具信息使用选择排序模板对交通工具指针数组按速度进行了排序并输出还实现了插入排序模板对交通工具指针数组按速度进行排序并输出所以该任务已完成完成拓展任务并再次测试任务内容从五个任务变体中任选其一完成并再次测试程序变体要求实现插入排序模板变体需在随机移动后找到上次维修后飞行时间最长的飞机并维修变体要基于汽车类派生电动汽车和汽油汽车类并添加相关属性变体实现多重继承的汽车拖车类变体为不同交通工具实现不同的价格计算算法完成情况实现了变体即插入排序模板实现了变体即函数用于找到上次维修后飞行时间最长的飞机并维修所以该任务已完成绘制类图任务内容完成上述任务后绘制最终的类图展示类之间的继承关系属性和方法等完成情况提供了使用语法绘制的类图清晰展示了类之间的继承关系以及类的属性和方法还展示了类与其内部类的组合关系所以该任务已完成总结通过对各项任务的检查代码已完成了文档中要求的所有内容不仅实现了基本的类和测试完成了信息管理与输出还完成了拓展任务中的两个变体并绘制了相应的类图叶蓝骅定义默认常量定义最大飞行时间和最大行驶距离定义交通工具基类构造函数析构函数获取交通工具名称获取购买时的速度获取总行驶距离获取总使用时间抽象方法进行行程抽象方法获取当前速度默认比较运算符设置交通工具名称总行驶距离总使用时间新交通工具的速度存储交通工具名称的字符串定义飞机类构造函数获取当前速度进行行程维修飞机获取上次维修后的时间更新机载计算机上次维修后的时间机载计算机定义马车类构造函数获取当前速度进行行程定义汽车类构造函数获取当前速度进行行程随机行程函数显示交通工具信息函数输出表头设置每列宽度名称当前速度总行驶距离总使用时间马车汽车飞机输出每行数据设置每列宽度选择排序模板自定义比较函数插入排序模板实现变体找到上次维修后飞行时间最长的飞机并维修实现变体定义存储交通工具实例的向量添加具体对象马车马车马车马车马车汽车汽车汽车汽车飞机飞机飞机定义存储交通工具指针的向量初始化指针向量显示初始信息初始交通工具信息进行随机行程显示行程后的信息随机行程后的交通工具信息选择排序并显示按默认比较按默认比较排序后的交通工具信息插入排序并显示按默认比较变体按插入排序后的交通工具信息找到上次维修后飞行时间最长的飞机并维修变体维修上次维修后飞行时间最长的飞机后的交通工具信息',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2025-02-28 17:59:24',
  postMainColor: '',
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#18171d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#f7f9fe')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(e => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.3.0"></head><body data-type="anzhiyu"><div id="web_bg"></div><div id="an_music_bg"></div><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" alt="加载头像" src="/images/avatar.jpeg"/><div class="loading-image-dot"></div></div></div><script>const preloader = {
  endLoading: () => {
    document.getElementById('loading-box').classList.add("loaded");
  },
  initLoading: () => {
    document.getElementById('loading-box').classList.remove("loaded")
  }
}
window.addEventListener('load',()=> { preloader.endLoading() })
setTimeout(function(){preloader.endLoading();},10000)

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><div id="nav-group"><span id="blog_name"><a id="site-name" href="/" accesskey="h"><div class="title">黎明前的茶会</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a><div id="he-plugin-simple"></div><script>var WIDGET = {
  "CONFIG": {
    "modules": "0124",
    "background": "2",
    "tmpColor": "FFFFFF",
    "tmpSize": "16",
    "cityColor": "FFFFFF",
    "citySize": "16",
    "aqiColor": "E8D87B",
    "aqiSize": "16",
    "weatherIconSize": "24",
    "alertIconSize": "18",
    "padding": "10px 10px 10px 10px",
    "shadow": "0",
    "language": "auto",
    "borderRadius": "20",
    "fixed": "true",
    "vertical": "top",
    "horizontal": "left",
    "left": "20",
    "top": "7.1",
    "key": "df245676fb434a0691ead1c63341cd94"
  }
}
</script><link rel="stylesheet" href="https://widget.qweather.net/simple/static/css/he-simple.css?v=1.4.0"/><script src="https://widget.qweather.net/simple/static/js/he-simple.js?v=1.4.0"></script></span><div class="mask-name-container"><div id="name-container"><a id="page-name" href="javascript:anzhiyu.scrollToDest(0, 500)">PAGE_NAME</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 隧道</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 友链</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size: 0.9em;"></i><span> 友人帐</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/fcircle/"><i class="anzhiyufont anzhiyu-icon-artstation faa-tada" style="font-size: 0.9em;"></i><span> 朋友圈</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><i class="anzhiyufont anzhiyu-icon-envelope faa-tada" style="font-size: 0.9em;"></i><span> 留言板</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> 音乐馆</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/bangumis/"><i class="anzhiyufont anzhiyu-icon-bilibili faa-tada" style="font-size: 0.9em;"></i><span> 追番页</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size: 0.9em;"></i><span> 相册集</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/air-conditioner/"><i class="anzhiyufont anzhiyu-icon-fan faa-tada" style="font-size: 0.9em;"></i><span> 小空调</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于本人</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size: 0.9em;"></i><span> 闲言碎语</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size: 0.9em;"></i><span> 随便逛逛</span></a></li></ul></div></div></div><div id="nav-right"><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="随机前往一个文章" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><input id="center-console" type="checkbox"/><label class="widget" for="center-console" title="中控台" onclick="anzhiyu.switchConsole();"><i class="left"></i><i class="widget center"></i><i class="widget right"></i></label><div id="console"><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="/images/qrcode-weichat.jpeg" target="_blank"><img class="post-qr-code-img" alt="微信" src="/images/qrcode-weichat.jpeg"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="/images/qrcode-alipay.jpeg" target="_blank"><img class="post-qr-code-img" alt="支付宝" src="/images/qrcode-alipay.jpeg"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments"><div class="card-content"><div class="author-content-item-tips">互动</div><span class="author-content-item-title"> 最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div></div><div class="console-card-group-right"><div class="console-card tags"><div class="card-content"><div class="author-content-item-tips">兴趣点</div><span class="author-content-item-title">寻找你感兴趣的领域</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/%E4%BB%A3%E7%A0%81/" style="font-size: 1.05rem;">代码<sup>1</sup></a><a href="/tags/%E6%9E%81%E9%99%90/" style="font-size: 1.05rem;">极限<sup>1</sup></a><a href="/tags/%E7%90%86%E8%AE%BA/" style="font-size: 1.05rem;">理论<sup>1</sup></a></div></div><hr/></div></div><div class="console-card history"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>文章</span></div><div class="card-archives"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/02/"><span class="card-archive-list-date">二月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/01/"><span class="card-archive-list-date">一月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li></ul></div><hr/></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" title="显示模式切换" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="边栏显示控制"><a class="asideSwitch"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div><div class="console-btn-item" id="consoleMusic" onclick="anzhiyu.musicToggle()" title="音乐开关"><a class="music-switch"><i class="anzhiyufont anzhiyu-icon-music"></i></a></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"></div></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id="percent" onclick="anzhiyu.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" title="切换"><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></div></nav><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original">原创</a><span class="post-meta-categories"><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E4%BF%A1%E6%81%AF%E5%AD%A6/" itemprop="url">信息学</a></span><span class="article-meta tags"><a class="article-meta__tags" href="/tags/%E4%BB%A3%E7%A0%81/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>代码</span></a></span></div></div><h1 class="post-title" itemprop="name headline">实验室1</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="anzhiyufont anzhiyu-icon-calendar-days post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" itemprop="dateCreated datePublished" datetime="2025-02-28T01:42:42.000Z" title="发表于 2025-02-28 09:42:42">2025-02-28</time><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-history post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" itemprop="dateCreated datePublished" datetime="2025-02-28T09:59:24.215Z" title="更新于 2025-02-28 17:59:24">2025-02-28</time></span></div><div class="meta-secondline"><span class="post-meta-separator"></span><span class="post-meta-wordcount"><i class="anzhiyufont anzhiyu-icon-file-word post-meta-icon" title="文章字数"></i><span class="post-meta-label" title="文章字数">字数总计:</span><span class="word-count" title="文章字数">3.5k</span><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-clock post-meta-icon" title="阅读时长"></i><span class="post-meta-label" title="阅读时长">阅读时长:</span><span>14分钟</span></span><span class="post-meta-separator">       </span><span class="post-meta-position" title="作者IP属地为莫斯科"><i class="anzhiyufont anzhiyu-icon-location-dot"></i>莫斯科</span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section><div id="post-top-cover"><img class="nolazyload" id="post-top-bg" src=""></div></header><main id="blog-container"><div class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container" itemscope itemtype="https://www.zerospace.love"><header><a class="post-meta-categories" href="/categories/%E4%BF%A1%E6%81%AF%E5%AD%A6/" itemprop="url">信息学</a><a href="/tags/%E4%BB%A3%E7%A0%81/" tabindex="-1" itemprop="url">代码</a><h1 id="CrawlerTitle" itemprop="name headline">实验室1</h1><span itemprop="author" itemscope itemtype="http://schema.org/Person">叶蓝骅</span><time itemprop="dateCreated datePublished" datetime="2025-02-28T01:42:42.000Z" title="发表于 2025-02-28 09:42:42">2025-02-28</time><time itemprop="dateCreated datePublished" datetime="2025-02-28T09:59:24.215Z" title="更新于 2025-02-28 17:59:24">2025-02-28</time></header><h1 id="一、类结构设计"><a href="#一、类结构设计" class="headerlink" title="一、类结构设计"></a>一、类结构设计</h1><h2 id="1-基类-Vehicle"><a href="#1-基类-Vehicle" class="headerlink" title="1. 基类 Vehicle"></a>1. 基类 Vehicle</h2><ul>
<li><strong>成员变量</strong>：<ul>
<li><code>totalDistance</code>：总行驶距离</li>
<li><code>totalTime</code>：总使用时间</li>
<li><code>baseSpeed</code>：基础速度</li>
<li><code>nameCString</code>：交通工具名称</li>
</ul>
</li>
<li><strong>核心方法</strong>：<ul>
<li><code>MakeTrip(double)</code>：纯虚函数，子类需实现行程逻辑。</li>
<li><code>GetSpeed()</code>：纯虚函数，子类需实现速度计算。</li>
<li>比较运算符 <code>&lt;</code>：默认按当前速度比较。</li>
</ul>
</li>
</ul>
<h2 id="2-子类-Aeroplane（飞机）"><a href="#2-子类-Aeroplane（飞机）" class="headerlink" title="2. 子类 Aeroplane（飞机）"></a>2. 子类 Aeroplane（飞机）</h2><ul>
<li><strong>特殊属性</strong>：<ul>
<li><code>timeSinceLastRepair</code>：上次维修后的飞行时间。</li>
<li>内部类 <code>Computer</code>：模拟机载计算机，记录启动时间。</li>
</ul>
</li>
<li><strong>行为特性</strong>：<ul>
<li>速度恒定（<code>baseSpeed</code>）。</li>
<li>每次行程会增加飞行时间，超过 <code>MAX_FLY_TIME</code> 则无法飞行。</li>
<li>维修后重置飞行时间 (<code>Repair()</code>)。</li>
<li>可更新计算机启动时间 (<code>ComputerUpdate()</code>)。</li>
</ul>
</li>
</ul>
<h2 id="3-子类-Coach（马车）"><a href="#3-子类-Coach（马车）" class="headerlink" title="3. 子类 Coach（马车）"></a>3. 子类 Coach（马车）</h2><ul>
<li><strong>行为特性</strong>：<ul>
<li>速度随时间指数衰减：<code>speed = baseSpeed * exp(-totalTime/500)</code>。</li>
<li>单次行程距离超过 <code>MAX_DISTANCE</code> 则无法行驶。</li>
</ul>
</li>
</ul>
<h2 id="4-子类-Automobile（汽车）"><a href="#4-子类-Automobile（汽车）" class="headerlink" title="4. 子类 Automobile（汽车）"></a>4. 子类 Automobile（汽车）</h2><ul>
<li><strong>行为特性</strong>：<ul>
<li>速度随行驶距离指数衰减：<code>speed = baseSpeed * exp(-totalDistance/500)</code>。</li>
<li>无最大行程限制。</li>
</ul>
</li>
</ul>
<hr>
<h1 id="二、关键函数"><a href="#二、关键函数" class="headerlink" title="二、关键函数"></a>二、关键函数</h1><h2 id="1-随机行程-CommitRandomTrips"><a href="#1-随机行程-CommitRandomTrips" class="headerlink" title="1. 随机行程 CommitRandomTrips"></a>1. 随机行程 <code>CommitRandomTrips</code></h2><ul>
<li>为所有交通工具生成随机距离（0-2000）的行程。</li>
<li>调用 <code>MakeTrip()</code> 执行行程，不同交通工具可能失败（如飞机超时、马车超距）。</li>
</ul>
<h2 id="2-显示信息-DisplayVehicles"><a href="#2-显示信息-DisplayVehicles" class="headerlink" title="2. 显示信息 DisplayVehicles"></a>2. 显示信息 <code>DisplayVehicles</code></h2><ul>
<li><p>格式化输出交通工具的名称（附加英文类型）、当前速度、总距离和总时间。</p>
</li>
<li><p>示例输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">名称（Name）          当前速度（Speed） 总行驶距离（Dist） 总使用时间（Time）  </span><br><span class="line">马车1（Coach）        9.0             500              55.5556</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="3-排序算法"><a href="#3-排序算法" class="headerlink" title="3. 排序算法"></a>3. 排序算法</h2><ul>
<li><strong>选择排序 <code>SelectionSort</code></strong> 和 <strong>插入排序 <code>InsertionSort</code></strong>：<ul>
<li>支持自定义比较函数（如按速度或总时间排序）。</li>
<li>模板化实现，适用于任意数据类型。</li>
</ul>
</li>
<li><strong>比较函数</strong>：<ul>
<li><code>CompareDefault</code>：按当前速度比较。</li>
<li><code>CompareTime</code>：按总使用时间比较。</li>
</ul>
</li>
</ul>
<h2 id="4-维修飞机-FindAndRepairMaxFlightTimeAeroplane"><a href="#4-维修飞机-FindAndRepairMaxFlightTimeAeroplane" class="headerlink" title="4. 维修飞机 FindAndRepairMaxFlightTimeAeroplane"></a>4. 维修飞机 <code>FindAndRepairMaxFlightTimeAeroplane</code></h2><ul>
<li>遍历所有交通工具，找到飞行时间最长的飞机并维修（重置飞行时间）。</li>
</ul>
<hr>
<h1 id="三、主程序流程"><a href="#三、主程序流程" class="headerlink" title="三、主程序流程"></a>三、主程序流程</h1><h2 id="1-初始化对象："><a href="#1-初始化对象：" class="headerlink" title="1. 初始化对象："></a>1. <strong>初始化对象</strong>：</h2><ul>
<li>创建5辆马车、4辆汽车、3架飞机，存入对应的 <code>vector</code>。</li>
<li>将所有对象的指针收集到 <code>vehiclePointers</code> 中。</li>
</ul>
<h2 id="2-初始状态输出："><a href="#2-初始状态输出：" class="headerlink" title="2. 初始状态输出："></a>2. <strong>初始状态输出</strong>：</h2>   <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cout &lt;&lt; <span class="string">&quot;初始交通工具信息（Initial Vehicles）:&quot;</span> &lt;&lt; endl;</span><br><span class="line"><span class="built_in">DisplayVehicles</span>(vehiclePointers);</span><br></pre></td></tr></table></figure>

<h2 id="3-执行随机行程："><a href="#3-执行随机行程：" class="headerlink" title="3. 执行随机行程："></a>3. <strong>执行随机行程</strong>：</h2>   <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">CommitRandomTrips</span>(vehiclePointers);</span><br></pre></td></tr></table></figure>

<h2 id="4-排序与输出："><a href="#4-排序与输出：" class="headerlink" title="4. 排序与输出："></a>4. <strong>排序与输出</strong>：</h2><ul>
<li>按默认速度排序（选择排序）。</li>
<li>按插入排序再次排序。</li>
<li>每次排序后输出结果。</li>
</ul>
<h2 id="5-维修飞机并输出："><a href="#5-维修飞机并输出：" class="headerlink" title="5. 维修飞机并输出："></a>5. <strong>维修飞机并输出</strong>：</h2>   <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">FindAndRepairMaxFlightTimeAeroplane</span>(vehiclePointers);</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="四、核心特性"><a href="#四、核心特性" class="headerlink" title="四、核心特性"></a>四、核心特性</h1><h2 id="1-多态与继承："><a href="#1-多态与继承：" class="headerlink" title="1. 多态与继承："></a>1. <strong>多态与继承</strong>：</h2><ul>
<li>通过基类指针调用 <code>MakeTrip()</code> 和 <code>GetSpeed()</code>，实际执行子类实现。</li>
<li>动态类型转换 (<code>dynamic_cast</code>) 用于识别飞机对象。</li>
</ul>
<h2 id="2-速度衰减模型："><a href="#2-速度衰减模型：" class="headerlink" title="2. 速度衰减模型："></a>2. <strong>速度衰减模型</strong>：</h2><ul>
<li>马车：速度随时间指数衰减（<code>exp(-totalTime/500)</code>）。</li>
<li>汽车：速度随距离指数衰减（<code>exp(-totalDistance/500)</code>）。</li>
</ul>
<h2 id="3-异常处理："><a href="#3-异常处理：" class="headerlink" title="3. 异常处理："></a>3. <strong>异常处理</strong>：</h2><ul>
<li>飞机的 <code>MakeTrip()</code> 返回 <code>false</code> 若超时，需维修后才能继续飞行。</li>
<li>马车的 <code>MakeTrip()</code> 返回 <code>false</code> 若单次距离超过 <code>MAX_DISTANCE</code>。</li>
</ul>
<hr>
<h1 id="五、潜在改进点"><a href="#五、潜在改进点" class="headerlink" title="五、潜在改进点"></a>五、潜在改进点</h1><h2 id="1-名称处理："><a href="#1-名称处理：" class="headerlink" title="1. 名称处理："></a>1. <strong>名称处理</strong>：</h2><ul>
<li>当前通过名称中的中文字符判断类型（如“马车”），不够健壮。可改为使用类型标识符（如枚举）。</li>
</ul>
<h2 id="2-内存管理："><a href="#2-内存管理：" class="headerlink" title="2. 内存管理："></a>2. <strong>内存管理</strong>：</h2><ul>
<li><code>vehiclePointers</code> 存储的是局部对象的指针，若对象生命周期结束会导致悬空指针。此处因对象在主函数内创建，无问题，但需注意扩展性。</li>
</ul>
<h2 id="3-排序性能："><a href="#3-排序性能：" class="headerlink" title="3. 排序性能："></a>3. <strong>排序性能</strong>：</h2><ul>
<li>对于大规模数据，选择排序和插入排序效率较低，可考虑更高效算法（如快速排序）。</li>
</ul>
<h1 id="六、需求回顾与完成情况检查"><a href="#六、需求回顾与完成情况检查" class="headerlink" title="六、需求回顾与完成情况检查"></a>六、需求回顾与完成情况检查</h1><p>文档要求完成的任务主要包含以下几个方面，下面对各项任务的完成情况进行逐一检查：</p>
<h2 id="1-类的实现与测试"><a href="#1-类的实现与测试" class="headerlink" title="1. 类的实现与测试"></a>1. 类的实现与测试</h2><ul>
<li><strong>任务内容</strong>：实现 <code>Vehicle</code>（交通工具）基类和 <code>Aeroplane</code>（飞机）、<code>Coach</code>（马车）、<code>Automobile</code>（汽车）等具体交通工具类。<code>Vehicle</code> 类包含抽象方法，具体类需重写这些方法。使用 <code>CommitRandomTrips</code> 函数对这些类进行测试，在 <code>main</code> 函数中初始化随机数生成器。</li>
<li><strong>完成情况</strong>：<ul>
<li>代码中实现了 <code>Vehicle</code> 基类，包含抽象方法 <code>MakeTrip</code> 和 <code>GetSpeed</code>。</li>
<li>实现了 <code>Aeroplane</code>、<code>Coach</code> 和 <code>Automobile</code> 类，并且重写了基类的抽象方法。</li>
<li>在 <code>main</code> 函数中使用 <code>srand(0)</code> 初始化了随机数生成器，同时调用 <code>CommitRandomTrips</code> 函数对交通工具对象进行了随机行程测试。所以该任务已完成。</li>
</ul>
</li>
</ul>
<h2 id="2-信息管理与输出"><a href="#2-信息管理与输出" class="headerlink" title="2. 信息管理与输出"></a>2. 信息管理与输出</h2><ul>
<li><strong>任务内容</strong>：实现输入交通工具实例信息到对应数组的功能，并组织信息输出。输出方式包括按速度顺序从每个数组依次输出、按当前速度以统一列表输出、按输入顺序输出。可使用选择排序模板算法对数组指针进行排序，也可自定义比较函数。</li>
<li><strong>完成情况</strong>：<ul>
<li>代码中创建了存储不同交通工具对象的 <code>vector</code>，并将对象指针存储在相应的指针 <code>vector</code> 中。</li>
<li>实现了 <code>DisplayVehicles</code> 函数用于输出交通工具信息。</li>
<li>使用选择排序模板 <code>SelectionSort</code> 对交通工具指针数组按速度进行了排序并输出。</li>
<li>还实现了插入排序模板 <code>InsertionSort</code> 对交通工具指针数组按速度进行排序并输出。所以该任务已完成。</li>
</ul>
</li>
</ul>
<h2 id="3-完成拓展任务并再次测试"><a href="#3-完成拓展任务并再次测试" class="headerlink" title="3. 完成拓展任务并再次测试"></a>3. 完成拓展任务并再次测试</h2><ul>
<li><strong>任务内容</strong>：从五个任务变体中任选其一完成并再次测试程序。变体 1 要求实现插入排序模板；变体 2 需在随机移动后找到上次维修后飞行时间最长的飞机并维修；变体 3 要基于汽车类派生电动汽车和汽油汽车类并添加相关属性；变体 4 实现多重继承的“汽车拖车”类；变体 5 为不同交通工具实现不同的价格计算算法。</li>
<li><strong>完成情况</strong>：<ul>
<li>实现了变体 1，即插入排序模板 <code>InsertionSort</code>。</li>
<li>实现了变体 2，即 <code>FindAndRepairMaxFlightTimeAeroplane</code> 函数，用于找到上次维修后飞行时间最长的飞机并维修。所以该任务已完成。</li>
</ul>
</li>
</ul>
<h2 id="4-绘制类图"><a href="#4-绘制类图" class="headerlink" title="4. 绘制类图"></a>4. 绘制类图</h2><ul>
<li><strong>任务内容</strong>：完成上述任务后，绘制最终的类图，展示类之间的继承关系、属性和方法等。</li>
<li><strong>完成情况</strong>：<ul>
<li>提供了使用 Mermaid 语法绘制的类图，清晰展示了 <code>Vehicle</code>、<code>Aeroplane</code>、<code>Coach</code>、<code>Automobile</code> 类之间的继承关系，以及类的属性和方法，还展示了 <code>Aeroplane</code> 类与其内部类 <code>Computer</code> 的组合关系。所以该任务已完成。</li>
</ul>
</li>
</ul>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>通过对各项任务的检查，代码已完成了文档中要求的所有内容。不仅实现了基本的类和测试，完成了信息管理与输出，还完成了拓展任务中的两个变体，并绘制了相应的类图。 </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  main.cpp</span></span><br><span class="line"><span class="comment">//  Demo</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  Created by 叶蓝骅 on 2025/2/28.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iomanip&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义默认常量</span></span><br><span class="line"><span class="type">const</span> <span class="type">char</span> DefaultVehicleName[] = <span class="string">&quot;Untyped vehicle&quot;</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">char</span> DefaultCoachName[] = <span class="string">&quot;Default Coach&quot;</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">char</span> DefaultAutomobileName[] = <span class="string">&quot;Default Automobile&quot;</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">char</span> DefaultAeroplaneName[] = <span class="string">&quot;Default Aeroplane&quot;</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">double</span> DefaultVehicleSpeed = <span class="number">-1.</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">double</span> DefaultCoachSpeed = <span class="number">10.</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">double</span> DefaultAutomobileSpeed = <span class="number">100.</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">double</span> DefaultAeroplaneSpeed = <span class="number">500.</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">double</span> DefaultTimeToBoot = <span class="number">0.01</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义最大飞行时间和最大行驶距离</span></span><br><span class="line"><span class="type">const</span> <span class="type">double</span> MAX_FLY_TIME = <span class="number">100.</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">double</span> MAX_DISTANCE = <span class="number">500.</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义交通工具基类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Vehicle</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// 构造函数</span></span><br><span class="line">    <span class="built_in">Vehicle</span>() : <span class="built_in">totalDistance</span>(<span class="number">0</span>), <span class="built_in">totalTime</span>(<span class="number">0</span>), <span class="built_in">baseSpeed</span>(DefaultVehicleSpeed) &#123;</span><br><span class="line">        <span class="built_in">SetName</span>(DefaultVehicleName);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">Vehicle</span>(<span class="type">const</span> <span class="type">char</span> inNameCString[], <span class="type">double</span> inBaseSpeed, <span class="type">int</span> inBasePrice) : <span class="built_in">totalDistance</span>(<span class="number">0</span>), <span class="built_in">totalTime</span>(<span class="number">0</span>), <span class="built_in">baseSpeed</span>(inBaseSpeed) &#123;</span><br><span class="line">        <span class="built_in">SetName</span>(inNameCString);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 析构函数</span></span><br><span class="line">    <span class="keyword">virtual</span> ~<span class="built_in">Vehicle</span>() &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 获取交通工具名称</span></span><br><span class="line">    <span class="function"><span class="type">const</span> <span class="type">char</span>* <span class="type">const</span> <span class="title">GetName</span><span class="params">()</span> <span class="type">const</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> nameCString;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 获取购买时的速度</span></span><br><span class="line">    <span class="function"><span class="type">double</span> <span class="title">GetBaseSpeed</span><span class="params">()</span> <span class="type">const</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> baseSpeed;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 获取总行驶距离</span></span><br><span class="line">    <span class="function"><span class="type">double</span> <span class="title">GetTotalDistance</span><span class="params">()</span> <span class="type">const</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> totalDistance;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 获取总使用时间</span></span><br><span class="line">    <span class="function"><span class="type">double</span> <span class="title">GetTotalTime</span><span class="params">()</span> <span class="type">const</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> totalTime;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 抽象方法：进行行程</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">bool</span> <span class="title">MakeTrip</span><span class="params">(<span class="type">double</span> distance)</span> </span>= <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// 抽象方法：获取当前速度</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">double</span> <span class="title">GetSpeed</span><span class="params">()</span> <span class="type">const</span> </span>= <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// 默认比较运算符</span></span><br><span class="line">    <span class="type">bool</span> <span class="keyword">operator</span>&lt;(Vehicle&amp; rhs) <span class="type">const</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">GetSpeed</span>() &lt; rhs.<span class="built_in">GetSpeed</span>()) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">    <span class="comment">// 设置交通工具名称</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">SetName</span><span class="params">(<span class="type">const</span> <span class="type">char</span> inNameCString[])</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">0</span>; (inNameCString[i] != <span class="number">0</span>) &amp;&amp; (i &lt; MAX_NAME_LENGTH); ++i) &#123;</span><br><span class="line">            nameCString[i] = inNameCString[i];</span><br><span class="line">        &#125;</span><br><span class="line">        nameCString[i] = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 总行驶距离</span></span><br><span class="line">    <span class="type">double</span> totalDistance;</span><br><span class="line">    <span class="comment">// 总使用时间</span></span><br><span class="line">    <span class="type">double</span> totalTime;</span><br><span class="line">    <span class="comment">// 新交通工具的速度</span></span><br><span class="line">    <span class="type">double</span> baseSpeed;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="comment">// 存储交通工具名称的C字符串</span></span><br><span class="line">    <span class="type">static</span> <span class="type">const</span> <span class="type">int</span> MAX_NAME_LENGTH = <span class="number">50</span>;</span><br><span class="line">    <span class="type">char</span> nameCString[MAX_NAME_LENGTH];</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义飞机类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Aeroplane</span> : <span class="keyword">public</span> Vehicle &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// 构造函数</span></span><br><span class="line">    <span class="built_in">Aeroplane</span>(<span class="type">const</span> <span class="type">char</span> inNameCString[], <span class="type">double</span> inBaseSpeed) : <span class="built_in">Vehicle</span>(inNameCString, inBaseSpeed, <span class="number">0</span>), <span class="built_in">timeSinceLastRepair</span>(<span class="number">0</span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 获取当前速度</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">double</span> <span class="title">GetSpeed</span><span class="params">()</span> <span class="type">const</span> <span class="keyword">override</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">GetBaseSpeed</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 进行行程</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">bool</span> <span class="title">MakeTrip</span><span class="params">(<span class="type">double</span> distanceOfTrip)</span> <span class="keyword">override</span> </span>&#123;</span><br><span class="line">        <span class="type">double</span> timeOfTrip = distanceOfTrip / <span class="built_in">GetSpeed</span>() + computer.<span class="built_in">GetTimeToBoot</span>();</span><br><span class="line">        <span class="keyword">if</span> (timeSinceLastRepair + timeOfTrip &gt; MAX_FLY_TIME) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        timeSinceLastRepair += timeOfTrip;</span><br><span class="line">        totalDistance += distanceOfTrip;</span><br><span class="line">        totalTime += timeOfTrip;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 维修飞机</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">Repair</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        timeSinceLastRepair = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 获取上次维修后的时间</span></span><br><span class="line">    <span class="function"><span class="type">double</span> <span class="title">GetTimeSinceLastRepair</span><span class="params">()</span> <span class="type">const</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> timeSinceLastRepair;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 更新机载计算机</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">ComputerUpdate</span><span class="params">(<span class="type">double</span> newTimeToBoot)</span> </span>&#123;</span><br><span class="line">        computer.<span class="built_in">SetTimeToBoot</span>(newTimeToBoot);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="comment">// 上次维修后的时间</span></span><br><span class="line">    <span class="type">double</span> timeSinceLastRepair;</span><br><span class="line">    <span class="comment">// 机载计算机</span></span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Computer</span> &#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="built_in">Computer</span>() : <span class="built_in">baseTimeToBoot</span>(DefaultTimeToBoot) &#123;&#125;</span><br><span class="line">        <span class="function"><span class="type">double</span> <span class="title">GetTimeToBoot</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> baseTimeToBoot;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">SetTimeToBoot</span><span class="params">(<span class="type">double</span> newTime)</span> </span>&#123;</span><br><span class="line">            baseTimeToBoot = newTime;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">protected</span>:</span><br><span class="line">        <span class="type">double</span> baseTimeToBoot;</span><br><span class="line">    &#125; computer;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义马车类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Coach</span> : <span class="keyword">public</span> Vehicle &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// 构造函数</span></span><br><span class="line">    <span class="built_in">Coach</span>(<span class="type">const</span> <span class="type">char</span> inNameCString[], <span class="type">double</span> inBaseSpeed = DefaultCoachSpeed) : <span class="built_in">Vehicle</span>(inNameCString, inBaseSpeed, <span class="number">0</span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 获取当前速度</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">double</span> <span class="title">GetSpeed</span><span class="params">()</span> <span class="type">const</span> <span class="keyword">override</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">GetBaseSpeed</span>() * <span class="built_in">exp</span>(-totalTime / <span class="number">500.</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 进行行程</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">bool</span> <span class="title">MakeTrip</span><span class="params">(<span class="type">double</span> distanceOfTrip)</span> <span class="keyword">override</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (distanceOfTrip &gt; MAX_DISTANCE) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        totalDistance += distanceOfTrip;</span><br><span class="line">        totalTime += distanceOfTrip / <span class="built_in">GetSpeed</span>();</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义汽车类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Automobile</span> : <span class="keyword">public</span> Vehicle &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// 构造函数</span></span><br><span class="line">    <span class="built_in">Automobile</span>(<span class="type">const</span> <span class="type">char</span> inNameCString[], <span class="type">double</span> inBaseSpeed = DefaultAutomobileSpeed) : <span class="built_in">Vehicle</span>(inNameCString, inBaseSpeed, <span class="number">0</span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 获取当前速度</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">double</span> <span class="title">GetSpeed</span><span class="params">()</span> <span class="type">const</span> <span class="keyword">override</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">GetBaseSpeed</span>() * <span class="built_in">exp</span>(-totalDistance / <span class="number">500.</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 进行行程</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">bool</span> <span class="title">MakeTrip</span><span class="params">(<span class="type">double</span> distanceOfTrip)</span> <span class="keyword">override</span> </span>&#123;</span><br><span class="line">        totalDistance += distanceOfTrip;</span><br><span class="line">        totalTime += distanceOfTrip / <span class="built_in">GetSpeed</span>();</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 随机行程函数</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">CommitRandomTrips</span><span class="params">(vector&lt;Vehicle*&gt;&amp; vehicles)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; vehicles.<span class="built_in">size</span>(); ++i) &#123;</span><br><span class="line">        <span class="type">double</span> randomDistance = <span class="built_in">double</span>(<span class="built_in">rand</span>() % <span class="number">20001</span>) / <span class="number">10.</span>;</span><br><span class="line">        vehicles[i]-&gt;<span class="built_in">MakeTrip</span>(randomDistance);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 显示交通工具信息函数</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">DisplayVehicles</span><span class="params">(<span class="type">const</span> vector&lt;Vehicle*&gt;&amp; vehicles)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 输出表头，设置每列宽度</span></span><br><span class="line">    cout &lt;&lt; <span class="built_in">setw</span>(<span class="number">25</span>) &lt;&lt; left &lt;&lt; <span class="string">&quot;名称（Name）&quot;</span></span><br><span class="line">         &lt;&lt; <span class="built_in">setw</span>(<span class="number">15</span>) &lt;&lt; <span class="string">&quot;当前速度（Speed）&quot;</span></span><br><span class="line">         &lt;&lt; <span class="built_in">setw</span>(<span class="number">15</span>) &lt;&lt; <span class="string">&quot;总行驶距离（Dist）&quot;</span></span><br><span class="line">         &lt;&lt; <span class="built_in">setw</span>(<span class="number">15</span>) &lt;&lt; <span class="string">&quot;总使用时间（Time）&quot;</span> &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; vehicles.<span class="built_in">size</span>(); ++i) &#123;</span><br><span class="line">        <span class="type">const</span> <span class="type">char</span>* name = vehicles[i]-&gt;<span class="built_in">GetName</span>();</span><br><span class="line">        string nameWithEnglish;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">strstr</span>(name, <span class="string">&quot;马车&quot;</span>) != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            nameWithEnglish = <span class="built_in">string</span>(name) + <span class="string">&quot;（Coach）&quot;</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">strstr</span>(name, <span class="string">&quot;汽车&quot;</span>) != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            nameWithEnglish = <span class="built_in">string</span>(name) + <span class="string">&quot;（Automobile）&quot;</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">strstr</span>(name, <span class="string">&quot;飞机&quot;</span>) != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            nameWithEnglish = <span class="built_in">string</span>(name) + <span class="string">&quot;（Aeroplane）&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 输出每行数据，设置每列宽度</span></span><br><span class="line">        cout &lt;&lt; <span class="built_in">setw</span>(<span class="number">25</span>) &lt;&lt; left &lt;&lt; nameWithEnglish</span><br><span class="line">             &lt;&lt; <span class="built_in">setw</span>(<span class="number">15</span>) &lt;&lt; vehicles[i]-&gt;<span class="built_in">GetSpeed</span>()</span><br><span class="line">             &lt;&lt; <span class="built_in">setw</span>(<span class="number">15</span>) &lt;&lt; vehicles[i]-&gt;<span class="built_in">GetTotalDistance</span>()</span><br><span class="line">             &lt;&lt; <span class="built_in">setw</span>(<span class="number">15</span>) &lt;&lt; vehicles[i]-&gt;<span class="built_in">GetTotalTime</span>() &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 选择排序模板</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">MyType</span>&gt;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">MySwap</span><span class="params">(MyType&amp; v1, MyType&amp; v2)</span> </span>&#123;</span><br><span class="line">    MyType v3 = v1;</span><br><span class="line">    v1 = v2;</span><br><span class="line">    v2 = v3;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">ArrayType</span>, <span class="keyword">class</span> <span class="title class_">LessFunctionType</span>&gt;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">FindMinimumIndex</span><span class="params">(ArrayType&amp; data_array, <span class="type">int</span> beginIndex, <span class="type">int</span> endIndex, LessFunctionType LessFunction)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> minimumIndex = beginIndex;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> element_number = beginIndex + <span class="number">1</span>; element_number &lt;= endIndex; ++element_number) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">LessFunction</span>(data_array[element_number], data_array[minimumIndex])) &#123;</span><br><span class="line">            minimumIndex = element_number;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> minimumIndex;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">ArrayType</span>, <span class="keyword">class</span> <span class="title class_">LessFunctionType</span>&gt;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">SelectionSort</span><span class="params">(ArrayType&amp; data_array, <span class="type">int</span> beginIndex, <span class="type">int</span> endIndex, LessFunctionType LessFunction)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> element_number = beginIndex; element_number &lt; endIndex; ++element_number) &#123;</span><br><span class="line">        <span class="type">int</span> minimumIndex = <span class="built_in">FindMinimumIndex</span>(data_array, element_number, endIndex, LessFunction);</span><br><span class="line">        <span class="built_in">MySwap</span>(data_array[minimumIndex], data_array[element_number]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 自定义比较函数</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">CompareDefault</span><span class="params">(Vehicle* lhs, Vehicle* rhs)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> *lhs &lt; *rhs;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">CompareTime</span><span class="params">(Vehicle* lhs, Vehicle* rhs)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> lhs-&gt;<span class="built_in">GetTotalTime</span>() &lt; rhs-&gt;<span class="built_in">GetTotalTime</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 插入排序模板（实现变体1）</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">ArrayType</span>, <span class="keyword">class</span> <span class="title class_">LessFunctionType</span>&gt;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">InsertionSort</span><span class="params">(ArrayType&amp; data_array, <span class="type">int</span> beginIndex, <span class="type">int</span> endIndex, LessFunctionType LessFunction)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = beginIndex + <span class="number">1</span>; i &lt;= endIndex; ++i) &#123;</span><br><span class="line">        <span class="keyword">typename</span> ArrayType::value_type key = data_array[i];</span><br><span class="line">        <span class="type">int</span> j = i - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (j &gt;= beginIndex &amp;&amp; <span class="built_in">LessFunction</span>(key, data_array[j])) &#123;</span><br><span class="line">            data_array[j + <span class="number">1</span>] = data_array[j];</span><br><span class="line">            --j;</span><br><span class="line">        &#125;</span><br><span class="line">        data_array[j + <span class="number">1</span>] = key;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 找到上次维修后飞行时间最长的飞机并维修（实现变体2）</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">FindAndRepairMaxFlightTimeAeroplane</span><span class="params">(vector&lt;Vehicle*&gt;&amp; vehicles)</span> </span>&#123;</span><br><span class="line">    <span class="type">double</span> maxTime = <span class="number">0</span>;</span><br><span class="line">    Aeroplane* maxAeroplane = <span class="literal">nullptr</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; vehicles.<span class="built_in">size</span>(); ++i) &#123;</span><br><span class="line">        Aeroplane* aeroplane = <span class="built_in">dynamic_cast</span>&lt;Aeroplane*&gt;(vehicles[i]);</span><br><span class="line">        <span class="keyword">if</span> (aeroplane) &#123;</span><br><span class="line">            <span class="type">double</span> time = aeroplane-&gt;<span class="built_in">GetTimeSinceLastRepair</span>();</span><br><span class="line">            <span class="keyword">if</span> (time &gt; maxTime) &#123;</span><br><span class="line">                maxTime = time;</span><br><span class="line">                maxAeroplane = aeroplane;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (maxAeroplane) &#123;</span><br><span class="line">        maxAeroplane-&gt;<span class="built_in">Repair</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">srand</span>(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 定义存储交通工具实例的向量</span></span><br><span class="line">    vector&lt;Coach&gt; coaches;</span><br><span class="line">    vector&lt;Automobile&gt; automobiles;</span><br><span class="line">    vector&lt;Aeroplane&gt; aeroplanes;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 添加具体对象</span></span><br><span class="line">    coaches.<span class="built_in">emplace_back</span>(<span class="string">&quot;马车1&quot;</span>, <span class="number">9.</span>);</span><br><span class="line">    coaches.<span class="built_in">emplace_back</span>(<span class="string">&quot;马车2&quot;</span>, <span class="number">11.</span>);</span><br><span class="line">    coaches.<span class="built_in">emplace_back</span>(<span class="string">&quot;马车3&quot;</span>, <span class="number">10.</span>);</span><br><span class="line">    coaches.<span class="built_in">emplace_back</span>(<span class="string">&quot;马车4&quot;</span>, <span class="number">9.5</span>);</span><br><span class="line">    coaches.<span class="built_in">emplace_back</span>(<span class="string">&quot;马车5&quot;</span>);</span><br><span class="line"></span><br><span class="line">    automobiles.<span class="built_in">emplace_back</span>(<span class="string">&quot;汽车1&quot;</span>);</span><br><span class="line">    automobiles.<span class="built_in">emplace_back</span>(<span class="string">&quot;汽车2&quot;</span>, <span class="number">90.</span>);</span><br><span class="line">    automobiles.<span class="built_in">emplace_back</span>(<span class="string">&quot;汽车3&quot;</span>, <span class="number">120.</span>);</span><br><span class="line">    automobiles.<span class="built_in">emplace_back</span>(<span class="string">&quot;汽车4&quot;</span>, <span class="number">150.</span>);</span><br><span class="line"></span><br><span class="line">    aeroplanes.<span class="built_in">emplace_back</span>(<span class="string">&quot;飞机1&quot;</span>, <span class="number">1030.</span>);</span><br><span class="line">    aeroplanes.<span class="built_in">emplace_back</span>(<span class="string">&quot;飞机2&quot;</span>, <span class="number">560.</span>);</span><br><span class="line">    aeroplanes.<span class="built_in">emplace_back</span>(<span class="string">&quot;飞机3&quot;</span>, <span class="number">2200.</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 定义存储交通工具指针的向量</span></span><br><span class="line">    vector&lt;Vehicle*&gt; coachPointers;</span><br><span class="line">    vector&lt;Vehicle*&gt; automobilePointers;</span><br><span class="line">    vector&lt;Vehicle*&gt; aeroplanePointers;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 初始化指针向量</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; coaches.<span class="built_in">size</span>(); ++i) &#123;</span><br><span class="line">        coachPointers.<span class="built_in">push_back</span>(&amp;coaches[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; automobiles.<span class="built_in">size</span>(); ++i) &#123;</span><br><span class="line">        automobilePointers.<span class="built_in">push_back</span>(&amp;automobiles[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; aeroplanes.<span class="built_in">size</span>(); ++i) &#123;</span><br><span class="line">        aeroplanePointers.<span class="built_in">push_back</span>(&amp;aeroplanes[i]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    vector&lt;Vehicle*&gt; vehiclePointers;</span><br><span class="line">    vehiclePointers.<span class="built_in">insert</span>(vehiclePointers.<span class="built_in">end</span>(), coachPointers.<span class="built_in">begin</span>(), coachPointers.<span class="built_in">end</span>());</span><br><span class="line">    vehiclePointers.<span class="built_in">insert</span>(vehiclePointers.<span class="built_in">end</span>(), automobilePointers.<span class="built_in">begin</span>(), automobilePointers.<span class="built_in">end</span>());</span><br><span class="line">    vehiclePointers.<span class="built_in">insert</span>(vehiclePointers.<span class="built_in">end</span>(), aeroplanePointers.<span class="built_in">begin</span>(), aeroplanePointers.<span class="built_in">end</span>());</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 显示初始信息</span></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;初始交通工具信息（Initial Vehicles）:&quot;</span> &lt;&lt; endl;</span><br><span class="line">    <span class="built_in">DisplayVehicles</span>(vehiclePointers);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 进行随机行程</span></span><br><span class="line">    <span class="built_in">CommitRandomTrips</span>(vehiclePointers);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 显示行程后的信息</span></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;\n随机行程后的交通工具信息（Vehicles after random trips）:&quot;</span> &lt;&lt; endl;</span><br><span class="line">    <span class="built_in">DisplayVehicles</span>(vehiclePointers);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 选择排序并显示（按默认比较）</span></span><br><span class="line">    <span class="built_in">SelectionSort</span>(vehiclePointers, <span class="number">0</span>, <span class="built_in">static_cast</span>&lt;<span class="type">int</span>&gt;(vehiclePointers.<span class="built_in">size</span>() - <span class="number">1</span>), CompareDefault);</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;\n按默认比较排序后的交通工具信息（Vehicles sorted by default comparison）:&quot;</span> &lt;&lt; endl;</span><br><span class="line">    <span class="built_in">DisplayVehicles</span>(vehiclePointers);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 插入排序并显示（按默认比较，变体1）</span></span><br><span class="line">    <span class="built_in">InsertionSort</span>(vehiclePointers, <span class="number">0</span>, <span class="built_in">static_cast</span>&lt;<span class="type">int</span>&gt;(vehiclePointers.<span class="built_in">size</span>() - <span class="number">1</span>), CompareDefault);</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;\n按插入排序后的交通工具信息（Vehicles sorted by insertion sort）:&quot;</span> &lt;&lt; endl;</span><br><span class="line">    <span class="built_in">DisplayVehicles</span>(vehiclePointers);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 找到上次维修后飞行时间最长的飞机并维修（变体2）</span></span><br><span class="line">    <span class="built_in">FindAndRepairMaxFlightTimeAeroplane</span>(vehiclePointers);</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;\n维修上次维修后飞行时间最长的飞机后的交通工具信息（Vehicles after repairing the aeroplane with max flight time since last repair）:&quot;</span> &lt;&lt; endl;</span><br><span class="line">    <span class="built_in">DisplayVehicles</span>(vehiclePointers);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<pre class="mermaid">classDiagram
    class Vehicle {
        - char nameCString[50]
        - double totalDistance
        - double totalTime
        - double baseSpeed
        + Vehicle()
        + Vehicle(const char inNameCString[], double inBaseSpeed, int inBasePrice)
        + ~Vehicle()
        + const char* const GetName() const
        + double GetBaseSpeed() const
        + double GetTotalDistance() const
        + double GetTotalTime() const
        + virtual bool MakeTrip(double distance) = 0
        + virtual double GetSpeed() const = 0
        + bool operator<(Vehicle& rhs) const
        - void SetName(const char inNameCString[])
    }

    class Aeroplane {
        - double timeSinceLastRepair
        + Aeroplane(const char inNameCString[], double inBaseSpeed)
        + double GetSpeed() const
        + bool MakeTrip(double distanceOfTrip)
        + void Repair()
        + double GetTimeSinceLastRepair() const
        + void ComputerUpdate(double newTimeToBoot)
    }

    class Coach {
        + Coach(const char inNameCString[], double inBaseSpeed = DefaultCoachSpeed)
        + double GetSpeed() const
        + bool MakeTrip(double distanceOfTrip)
    }

    class Automobile {
        + Automobile(const char inNameCString[], double inBaseSpeed = DefaultAutomobileSpeed)
        + double GetSpeed() const
        + bool MakeTrip(double distanceOfTrip)
    }

    class Computer {
        - double baseTimeToBoot
        + Computer()
        + double GetTimeToBoot()
        + void SetTimeToBoot(double newTime)
    }

    Vehicle <|-- Aeroplane
    Vehicle <|-- Coach
    Vehicle <|-- Automobile
    Aeroplane *-- Computer : contains</pre>
</article><div class="post-copyright"><div class="copyright-cc-box"><i class="anzhiyufont anzhiyu-icon-copyright"></i></div><div class="post-copyright__author_box"><a class="post-copyright__author_img" href="/" title="头像"><img class="post-copyright__author_img_back" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/images/avatar.jpeg" title="头像" alt="头像"><img class="post-copyright__author_img_front" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/images/avatar.jpeg" title="头像" alt="头像"></a><div class="post-copyright__author_name">叶蓝骅</div><div class="post-copyright__author_desc">无论结局，很高兴认识你</div></div><div class="post-copyright__post__info"><a class="post-copyright__original" title="该文章为原创文章，注意版权协议" href="https://www.zerospace.love">原创</a><a class="post-copyright-title"><span onclick="rm.copyPageUrl('https://www.zerospace.love')">实验室1</span></a></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div class="rewardLeftButton"><div class="post-reward" onclick="anzhiyu.addRewardMask()"><div class="reward-button button--animated" title="赞赏作者"><i class="anzhiyufont anzhiyu-icon-hand-heart-fill"></i>打赏作者</div><div class="reward-main"><div class="reward-all"><span class="reward-title">感谢你赐予我前进的力量</span><ul class="reward-group"><li class="reward-item"><a href="/images/qrcode-weichat.jpeg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/images/qrcode-weichat.jpeg" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="/images/qrcode-alipay.jpeg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/images/qrcode-alipay.jpeg" alt="支付宝"/></a><div class="post-qr-code-desc">支付宝</div></li></ul><a class="reward-main-btn" href="/about/#about-reward" target="_blank"><div class="reward-text">赞赏者名单</div><div class="reward-dec">因为你们的支持让我意识到写文章的价值🙏</div></a></div></div></div><div id="quit-box" onclick="anzhiyu.removeRewardMask()" style="display: none"></div></div><div class="shareRight"><div class="share-link mobile"><div class="share-qrcode"><div class="share-button" title="使用手机访问这篇文章"><i class="anzhiyufont anzhiyu-icon-qrcode"></i></div><div class="share-main"><div class="share-main-all"><div id="qrcode" title="https://www.zerospace.love"></div><div class="reward-dec">使用手机访问这篇文章</div></div></div></div></div><div class="share-link weibo"><a class="share-button" target="_blank" href="https://service.weibo.com/share/share.php?title=实验室1&amp;url=https://www.zerospace.love&amp;pic=" rel="external nofollow noreferrer noopener"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a></div><script>function copyCurrentPageUrl() {
  var currentPageUrl = window.location.href;
  var input = document.createElement("input");
  input.setAttribute("value", currentPageUrl);
  document.body.appendChild(input);
  input.select();
  input.setSelectionRange(0, 99999);
  document.execCommand("copy");
  document.body.removeChild(input);
}</script><div class="share-link copyurl"><div class="share-button" id="post-share-url" title="复制链接" onclick="copyCurrentPageUrl()"><i class="anzhiyufont anzhiyu-icon-link"></i></div></div></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">© 2025 https://www.zerospace.love. All rights reserved.</span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__tag-list"><a class="post-meta__box__tags" href="/tags/%E4%BB%A3%E7%A0%81/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>代码<span class="tagsPageCount">1</span></a></div></div></div><div class="post_share"><div class="social-share" data-image="/images/avatar.jpeg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"/><script src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer="defer"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-full"><a href="/2025/02/24/Theoretical-knowledge/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">数学分析理论知识</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="author-info__sayhi" id="author-info__sayhi" onclick="anzhiyu.changeSayHelloText()"></div><div class="author-info-avatar"><img class="avatar-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/images/avatar.jpeg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-status"><img class="g-status" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://emotion.acs.pw/emotion/Marup/011.png" alt="status"/></div></div><div class="author-info__description"><div style="line-height:1.38;margin:0.6rem 0;text-align:justify;color:rgba(255, 255, 255, 0.8);">你好，很高兴你能看到这里。我将在这里分享我的<b style="color:#FF0000;">思考</b>和<b style="color:#FF7F00;">生活点滴</b>。</div><div style="line-height:1.38;margin:0.6rem 0;text-align:justify;color:rgba(255, 255, 255, 0.8);">希望我的文字能带给你些许<b style="color:#FFFF00;">启发</b>和<b style="color:#00FF00;">温暖</b>。</div></div><div class="author-info__bottom-group"><a class="author-info__bottom-group-left" href="/"><h1 class="author-info__name">叶蓝骅</h1><div class="author-info__desc">无论结局，很高兴认识你</div></a><div class="card-info-social-icons is-center"><a class="social-icon faa-parent animated-hover" href="https://github.com/leoloops" target="_blank" title="Github"><i class="anzhiyufont anzhiyu-icon-github"></i></a></div></div></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bullhorn anzhiyu-shake"></i><span>公告</span></div><div class="announcement_content">好了，你被逮捕了，偷偷搞学习是吧~</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bars"></i><span>文章目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E7%B1%BB%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1"><span class="toc-number">1.</span> <span class="toc-text">一、类结构设计</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%9F%BA%E7%B1%BB-Vehicle"><span class="toc-number">1.1.</span> <span class="toc-text">1. 基类 Vehicle</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E5%AD%90%E7%B1%BB-Aeroplane%EF%BC%88%E9%A3%9E%E6%9C%BA%EF%BC%89"><span class="toc-number">1.2.</span> <span class="toc-text">2. 子类 Aeroplane（飞机）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%AD%90%E7%B1%BB-Coach%EF%BC%88%E9%A9%AC%E8%BD%A6%EF%BC%89"><span class="toc-number">1.3.</span> <span class="toc-text">3. 子类 Coach（马车）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E5%AD%90%E7%B1%BB-Automobile%EF%BC%88%E6%B1%BD%E8%BD%A6%EF%BC%89"><span class="toc-number">1.4.</span> <span class="toc-text">4. 子类 Automobile（汽车）</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E5%85%B3%E9%94%AE%E5%87%BD%E6%95%B0"><span class="toc-number">2.</span> <span class="toc-text">二、关键函数</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E9%9A%8F%E6%9C%BA%E8%A1%8C%E7%A8%8B-CommitRandomTrips"><span class="toc-number">2.1.</span> <span class="toc-text">1. 随机行程 CommitRandomTrips</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E6%98%BE%E7%A4%BA%E4%BF%A1%E6%81%AF-DisplayVehicles"><span class="toc-number">2.2.</span> <span class="toc-text">2. 显示信息 DisplayVehicles</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95"><span class="toc-number">2.3.</span> <span class="toc-text">3. 排序算法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E7%BB%B4%E4%BF%AE%E9%A3%9E%E6%9C%BA-FindAndRepairMaxFlightTimeAeroplane"><span class="toc-number">2.4.</span> <span class="toc-text">4. 维修飞机 FindAndRepairMaxFlightTimeAeroplane</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E4%B8%BB%E7%A8%8B%E5%BA%8F%E6%B5%81%E7%A8%8B"><span class="toc-number">3.</span> <span class="toc-text">三、主程序流程</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%88%9D%E5%A7%8B%E5%8C%96%E5%AF%B9%E8%B1%A1%EF%BC%9A"><span class="toc-number">3.1.</span> <span class="toc-text">1. 初始化对象：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E5%88%9D%E5%A7%8B%E7%8A%B6%E6%80%81%E8%BE%93%E5%87%BA%EF%BC%9A"><span class="toc-number">3.2.</span> <span class="toc-text">2. 初始状态输出：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E6%89%A7%E8%A1%8C%E9%9A%8F%E6%9C%BA%E8%A1%8C%E7%A8%8B%EF%BC%9A"><span class="toc-number">3.3.</span> <span class="toc-text">3. 执行随机行程：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E6%8E%92%E5%BA%8F%E4%B8%8E%E8%BE%93%E5%87%BA%EF%BC%9A"><span class="toc-number">3.4.</span> <span class="toc-text">4. 排序与输出：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E7%BB%B4%E4%BF%AE%E9%A3%9E%E6%9C%BA%E5%B9%B6%E8%BE%93%E5%87%BA%EF%BC%9A"><span class="toc-number">3.5.</span> <span class="toc-text">5. 维修飞机并输出：</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E6%A0%B8%E5%BF%83%E7%89%B9%E6%80%A7"><span class="toc-number">4.</span> <span class="toc-text">四、核心特性</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%A4%9A%E6%80%81%E4%B8%8E%E7%BB%A7%E6%89%BF%EF%BC%9A"><span class="toc-number">4.1.</span> <span class="toc-text">1. 多态与继承：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E9%80%9F%E5%BA%A6%E8%A1%B0%E5%87%8F%E6%A8%A1%E5%9E%8B%EF%BC%9A"><span class="toc-number">4.2.</span> <span class="toc-text">2. 速度衰减模型：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%EF%BC%9A"><span class="toc-number">4.3.</span> <span class="toc-text">3. 异常处理：</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E6%BD%9C%E5%9C%A8%E6%94%B9%E8%BF%9B%E7%82%B9"><span class="toc-number">5.</span> <span class="toc-text">五、潜在改进点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%90%8D%E7%A7%B0%E5%A4%84%E7%90%86%EF%BC%9A"><span class="toc-number">5.1.</span> <span class="toc-text">1. 名称处理：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%EF%BC%9A"><span class="toc-number">5.2.</span> <span class="toc-text">2. 内存管理：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E6%8E%92%E5%BA%8F%E6%80%A7%E8%83%BD%EF%BC%9A"><span class="toc-number">5.3.</span> <span class="toc-text">3. 排序性能：</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%AD%E3%80%81%E9%9C%80%E6%B1%82%E5%9B%9E%E9%A1%BE%E4%B8%8E%E5%AE%8C%E6%88%90%E6%83%85%E5%86%B5%E6%A3%80%E6%9F%A5"><span class="toc-number">6.</span> <span class="toc-text">六、需求回顾与完成情况检查</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E7%B1%BB%E7%9A%84%E5%AE%9E%E7%8E%B0%E4%B8%8E%E6%B5%8B%E8%AF%95"><span class="toc-number">6.1.</span> <span class="toc-text">1. 类的实现与测试</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E4%BF%A1%E6%81%AF%E7%AE%A1%E7%90%86%E4%B8%8E%E8%BE%93%E5%87%BA"><span class="toc-number">6.2.</span> <span class="toc-text">2. 信息管理与输出</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%AE%8C%E6%88%90%E6%8B%93%E5%B1%95%E4%BB%BB%E5%8A%A1%E5%B9%B6%E5%86%8D%E6%AC%A1%E6%B5%8B%E8%AF%95"><span class="toc-number">6.3.</span> <span class="toc-text">3. 完成拓展任务并再次测试</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E7%BB%98%E5%88%B6%E7%B1%BB%E5%9B%BE"><span class="toc-number">6.4.</span> <span class="toc-text">4. 绘制类图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">6.5.</span> <span class="toc-text">总结</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-history"></i><span>最近发布</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/02/28/lab1/" title="实验室1">实验室1</a><time datetime="2025-02-28T01:42:42.000Z" title="发表于 2025-02-28 09:42:42">2025-02-28</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/02/24/Theoretical-knowledge/" title="数学分析理论知识">数学分析理论知识</a><time datetime="2025-02-24T04:00:00.000Z" title="发表于 2025-02-24 12:00:00">2025-02-24</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/01/25/limit/" title="极限-45">极限-45</a><time datetime="2025-01-25T08:50:40.000Z" title="发表于 2025-01-25 16:50:40">2025-01-25</time></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2025 By 叶蓝骅</div></div></footer></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">文章</div><div class="length-num">3</div></a><a href="/tags/" title="tag"><div class="headline">标签</div><div class="length-num">3</div></a><a href="/categories/" title="category"><div class="headline">分类</div><div class="length-num">2</div></a></div><span class="sidebar-menu-item-title">功能</span><div class="sidebar-menu-item"><a class="darkmode_switchbutton menu-child" href="javascript:void(0);" title="显示模式"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span>显示模式</span></a></div><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://blog.anheyu.com/" title="博客"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="博客"/><span class="back-menu-item-text">博客</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://image.anheyu.com/" title="安知鱼图床"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://image.anheyu.com/favicon.ico" alt="安知鱼图床"/><span class="back-menu-item-text">安知鱼图床</span></a></div></div></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 隧道</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 友链</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size: 0.9em;"></i><span> 友人帐</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/fcircle/"><i class="anzhiyufont anzhiyu-icon-artstation faa-tada" style="font-size: 0.9em;"></i><span> 朋友圈</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><i class="anzhiyufont anzhiyu-icon-envelope faa-tada" style="font-size: 0.9em;"></i><span> 留言板</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> 音乐馆</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/bangumis/"><i class="anzhiyufont anzhiyu-icon-bilibili faa-tada" style="font-size: 0.9em;"></i><span> 追番页</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size: 0.9em;"></i><span> 相册集</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/air-conditioner/"><i class="anzhiyufont anzhiyu-icon-fan faa-tada" style="font-size: 0.9em;"></i><span> 小空调</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于本人</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size: 0.9em;"></i><span> 闲言碎语</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size: 0.9em;"></i><span> 随便逛逛</span></a></li></ul></div></div><span class="sidebar-menu-item-title">标签</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/%E4%BB%A3%E7%A0%81/" style="font-size: 0.88rem;">代码<sup>1</sup></a><a href="/tags/%E6%9E%81%E9%99%90/" style="font-size: 0.88rem;">极限<sup>1</sup></a><a href="/tags/%E7%90%86%E8%AE%BA/" style="font-size: 0.88rem;">理论<sup>1</sup></a></div></div><hr/></div></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div><div id="nav-music"><a id="nav-music-hoverTips" onclick="anzhiyu.musicToggle()" accesskey="m">播放音乐</a><div id="console-music-bg"></div><meting-js id="8152976493" server="netease" type="playlist" mutex="true" preload="none" theme="var(--anzhiyu-main)" data-lrctype="0" order="random" volume="0.7"></meting-js></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style="font-size: 1rem;"></i></div><div class="rightMenu-item" id="menu-top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制选中文本</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="anzhiyufont anzhiyu-icon-paste"></i><span>粘贴文本</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>引用到评论</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="anzhiyufont anzhiyu-icon-link"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="anzhiyufont anzhiyu-icon-images"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="anzhiyufont anzhiyu-icon-download"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开图片</span></div><div class="rightMenu-item" id="menu-search"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>百度搜索</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="anzhiyufont anzhiyu-icon-play"></i><span>播放音乐</span></div><div class="rightMenu-item" id="menu-music-back"><i class="anzhiyufont anzhiyu-icon-backward"></i><span>切换到上一首</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="anzhiyufont anzhiyu-icon-forward"></i><span>切换到下一首</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open(&quot;https://y.qq.com/n/ryqq/playlist/8802438608&quot;, &quot;_blank&quot;);" style="display: none;"><i class="anzhiyufont anzhiyu-icon-radio"></i><span>查看所有歌曲</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制歌名</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>随便逛逛</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="anzhiyufont anzhiyu-icon-cube"></i><span>博客分类</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags"></i><span>文章标签</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制地址</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-message"></i><span class="menu-commentBarrage-text">关闭热评</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class="menu-darkmode-text">深色模式</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-language"></i><span>轉為繁體</span></a></div></div><div id="rightmenu-mask"></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.umd.js"></script><script src="https://cdn.cbd.int/instant.page@5.2.0/instantpage.js" type="module"></script><script src="https://cdn.cbd.int/vanilla-lazyload@17.8.5/dist/lazyload.iife.min.js"></script><script src="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.js"></script><canvas id="universe"></canvas><script async src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/dark/dark.js"></script><script>// 消除控制台打印
var HoldLog = console.log;
console.log = function () {};
let now1 = new Date();
queueMicrotask(() => {
  const Log = function () {
    HoldLog.apply(console, arguments);
  }; //在恢复前输出日志
  const grt = new Date("04/01/2021 00:00:00"); //此处修改你的建站时间或者网站上线时间
  now1.setTime(now1.getTime() + 250);
  const days = (now1 - grt) / 1000 / 60 / 60 / 24;
  const dnum = Math.floor(days);
  const ascll = [
    `欢迎使用!`,
    `生活明朗, 万物可爱`,
    `

        ██████╗ ███████╗███╗   ███╗██╗      ██████╗ ██╗   ██╗███████╗
       ██╔════╝ ██╔════╝████╗ ████║██║     ██╔═══██╗██║   ██║██╔════╝
       ██║  ███╗█████╗  ██╔████╔██║██║     ██║   ██║██║   ██║█████╗
       ██║   ██║██╔══╝  ██║╚██╔╝██║██║     ██║   ██║╚██╗ ██╔╝██╔══╝
       ╚██████╔╝███████╗██║ ╚═╝ ██║███████╗╚██████╔╝ ╚████╔╝ ███████╗
        ╚═════╝ ╚══════╝╚═╝     ╚═╝╚══════╝ ╚═════╝   ╚═══╝  ╚══════╝

        `,
    "已上线",
    dnum,
    "天",
    "©2020 By gemlove V1.6.14",
  ];
  const ascll2 = [`NCC2-036`, `调用前置摄像头拍照成功，识别为【小笨蛋】.`, `Photo captured: `, `🤪`];

  setTimeout(
    Log.bind(
      console,
      `\n%c${ascll[0]} %c ${ascll[1]} %c ${ascll[2]} %c${ascll[3]}%c ${ascll[4]}%c ${ascll[5]}\n\n%c ${ascll[6]}\n`,
      "color:#425AEF",
      "",
      "color:#425AEF",
      "color:#425AEF",
      "",
      "color:#425AEF",
      ""
    )
  );
  setTimeout(
    Log.bind(
      console,
      `%c ${ascll2[0]} %c ${ascll2[1]} %c \n${ascll2[2]} %c\n${ascll2[3]}\n`,
      "color:white; background-color:#4fd953",
      "",
      "",
      'background:url("https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/tinggge.gif") no-repeat;font-size:450%'
    )
  );

  setTimeout(Log.bind(console, "%c WELCOME %c 你好，小笨蛋.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(
      console,
      "%c ⚡ Powered by gemlove %c 你正在访问 叶蓝骅 的博客.",
      "color:white; background-color:#f0ad4e",
      ""
    )
  );

  setTimeout(Log.bind(console, "%c W23-12 %c 你已打开控制台.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(console, "%c S013-782 %c 你现在正处于监控中.", "color:white; background-color:#d9534f", "")
  );
});</script><script async src="/anzhiyu/random.js"></script><div class="js-pjax"><script>(() => {
  const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaid.length === 0) return
  const runMermaid = () => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? '' : ''

    Array.from($mermaid).forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
      const mermaidID = 'mermaid-' + index
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)

      const renderV10 = () => {
        renderFn.then(({svg}) => {
          mermaidSrc.insertAdjacentHTML('afterend', svg)
        })
      }

      const renderV9 = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      typeof renderFn === 'string' ? renderV9(renderFn) : renderV10()
    })
  }

  const loadMermaid = () => {
    window.loadMermaid ? runMermaid() : getScript('https://cdn.cbd.int/mermaid@10.2.4/dist/mermaid.min.js').then(runMermaid)
  }

  anzhiyu.addGlobalFn('themeChange', runMermaid, 'mermaid')

  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script><input type="hidden" name="page-type" id="page-type" value="post"></div><script async data-pjax src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.1/bubble/bubble.js"></script><script>var visitorMail = "";
</script><script async data-pjax src="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/waterfall/waterfall.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/qrcodejs/1.0.0/qrcode.min.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.9/icon/ali_iconfont_css.css"><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/dist/fireworks.min.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/aplayer/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.cbd.int/anzhiyu-blog-static@1.0.1/js/APlayer.min.js"></script><script src="https://cdn.cbd.int/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><script src="https://cdn.cbd.int/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]
var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {
  // removeEventListener scroll 
  anzhiyu.removeGlobalFnEvent('pjax')
  anzhiyu.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script charset="UTF-8" src="https://cdn.cbd.int/anzhiyu-theme-static@1.1.5/accesskey/accesskey.js"></script></div><div id="popup-window"><div class="popup-window-title">通知</div><div class="popup-window-divider"></div><div class="popup-window-content"><div class="popup-tip">你好呀</div><div class="popup-link"><i class="anzhiyufont anzhiyu-icon-arrow-circle-right"></i></div></div></div></body></html>